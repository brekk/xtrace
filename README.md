![xtrace](https://cdn.rawgit.com/brekk/xtrace/554215b/logo.svg)

> a tool for adding clarity to your compositional-pipelines or just invoking side-effects in a clean way

Originally inspired by [this book](https://drboolean.gitbooks.io/mostly-adequate-guide/content/ch5.html#debugging), this is a more fully-fledged solution for adding simple side-effects to a given operation.

```js
import R from 'ramda'

const multiply = R.curry((a, b) => a * b)

const iterateOverEveryElementAndMultiplyBy5 = R.map(multiply(5))
console.log(iterateOverEveryElementAndMultiplyBy5([1,2,3,4,5])) // 5, 10, 15, 20, 25
```

What can we do if we wanna make this function easy to inspect as it iterates over these values?

```js
import {trace} from 'xtrace'

const iterateOverEveryElementAndMultiplyBy5WithLogging = R.pipe(
  trace(`input!`),
  R.map(
    R.pipe(
      trace(`5 *`),
      multiply(5)
    )
  ),
  trace(`output!`)
)
```

What about conditional logging? Here's an example using `debug`

```js
import Debug from 'debug'
import {xtrace} from 'xtrace'
const debug = Debug(`my-debug-logger`)
const dtrace = xtrace(debug)

const verboseConditionalLoggerWhenMultiplyingBy5 = R.pipe(
  dtrace(`input!`),
  R.map(
    R.pipe(
      dtrace(`5 *`),
      multiply(5)
    )
  ),
  dtrace(`output!`)
)
```

Or, for convenience, just use the exported `debug` object (added `0.1.0`):

```js
import {debug} from 'xtrace'
const [trace, extra, wordVomit] = debug.makeLoggers([`log:critical`, `log:info`,`log:verbose`])

const reallyCerboseConditionalLoggerWhenMultiplyingBy5 = R.pipe(
  extra(`input!`),
  R.map(
    R.pipe(
      wordVomit(`5 *`),
      multiply(5)
    )
  ),
  extra(`output!`)
)
```

#### API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

#### Similar efforts:

-   `composition-trace` - <https://github.com/stevemao/composition-trace>
