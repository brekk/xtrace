import{$,I,curry}from'katsu-curry';import __debug from'debug';var sideEffect=curry(function(a,b,c,d){return a(b,c(d)),d}),_isPlaceholder=function(b){return null!=b&&'object'==typeof b&&!0===b['@@functional/placeholder']},_curry1=function(b){return function c(d){return 0===arguments.length||_isPlaceholder(d)?c:b.apply(this,arguments)}},_curry2=function(c){return function d(e,a){switch(arguments.length){case 0:return d;case 1:return _isPlaceholder(e)?d:_curry1(function(a){return c(e,a)});default:return _isPlaceholder(e)&&_isPlaceholder(a)?d:_isPlaceholder(e)?_curry1(function(b){return c(b,a)}):_isPlaceholder(a)?_curry1(function(a){return c(e,a)}):c(e,a);}}},_isArray=Array.isArray||function(a){return null!=a&&0<=a.length&&'[object Array]'===Object.prototype.toString.call(a)},_isTransformer=function(a){return'function'==typeof a['@@transducer/step']},_dispatchable=function(a,b,c){return function(){if(0===arguments.length)return c();var d=Array.prototype.slice.call(arguments,0),e=d.pop();if(!_isArray(e)){for(var f=0;f<a.length;){if('function'==typeof e[a[f]])return e[a[f]].apply(e,d);f+=1}if(_isTransformer(e)){var g=b.apply(null,d);return g(e)}}return c.apply(this,arguments)}},_map=function(a,b){for(var c=0,d=b.length,e=Array(d);c<d;)e[c]=a(b[c]),c+=1;return e},_isString=function(a){return'[object String]'===Object.prototype.toString.call(a)},_isArrayLike=_curry1(function(a){return!!_isArray(a)||!!a&&!('object'!=typeof a)&&!_isString(a)&&(1===a.nodeType?!!a.length:!(0!==a.length)||!!(0<a.length)&&a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1))}),_xwrap=function(){function a(a){this.f=a}return a.prototype['@@transducer/init']=function(){throw new Error('init not implemented on XWrap')},a.prototype['@@transducer/result']=function(a){return a},a.prototype['@@transducer/step']=function(a,b){return this.f(a,b)},function(b){return new a(b)}}(),_arity=function(a,b){switch(a){case 0:return function(){return b.apply(this,arguments)};case 1:return function(){return b.apply(this,arguments)};case 2:return function(){return b.apply(this,arguments)};case 3:return function(){return b.apply(this,arguments)};case 4:return function(){return b.apply(this,arguments)};case 5:return function(){return b.apply(this,arguments)};case 6:return function(){return b.apply(this,arguments)};case 7:return function(){return b.apply(this,arguments)};case 8:return function(){return b.apply(this,arguments)};case 9:return function(){return b.apply(this,arguments)};case 10:return function(){return b.apply(this,arguments)};default:throw new Error('First argument to _arity must be a non-negative integer no greater than ten');}},bind=_curry2(function(a,b){return _arity(a.length,function(){return a.apply(b,arguments)})}),_reduce=function(){function a(a,b,c){for(var d=0,e=c.length;d<e;){if(b=a['@@transducer/step'](b,c[d]),b&&b['@@transducer/reduced']){b=b['@@transducer/value'];break}d+=1}return a['@@transducer/result'](b)}function b(a,b,c){for(var d=c.next();!d.done;){if(b=a['@@transducer/step'](b,d.value),b&&b['@@transducer/reduced']){b=b['@@transducer/value'];break}d=c.next()}return a['@@transducer/result'](b)}function c(a,b,c,d){return a['@@transducer/result'](c[d](bind(a['@@transducer/step'],a),b))}var d='undefined'==typeof Symbol?'@@iterator':Symbol.iterator;return function(e,f,g){if('function'==typeof e&&(e=_xwrap(e)),_isArrayLike(g))return a(e,f,g);if('function'==typeof g['fantasy-land/reduce'])return c(e,f,g,'fantasy-land/reduce');if(null!=g[d])return b(e,f,g[d]());if('function'==typeof g.next)return b(e,f,g);if('function'==typeof g.reduce)return c(e,f,g,'reduce');throw new TypeError('reduce: list must be array or iterable')}}(),_xfBase={init:function(){return this.xf['@@transducer/init']()},result:function(a){return this.xf['@@transducer/result'](a)}},_xmap=function(){function a(a,b){this.xf=b,this.f=a}return a.prototype['@@transducer/init']=_xfBase.init,a.prototype['@@transducer/result']=_xfBase.result,a.prototype['@@transducer/step']=function(a,b){return this.xf['@@transducer/step'](a,this.f(b))},_curry2(function(b,c){return new a(b,c)})}(),_curryN=function a(b,c,d){return function(){for(var e=arguments,f=[],g=0,h=b,i=0;i<c.length||g<arguments.length;){var j;i<c.length&&(!_isPlaceholder(c[i])||g>=e.length)?j=c[i]:(j=e[g],g+=1),f[i]=j,_isPlaceholder(j)||(h-=1),i+=1}return 0>=h?d.apply(this,f):_arity(h,a(b,f,d))}},curryN=_curry2(function(a,b){return 1===a?_curry1(b):_arity(a,_curryN(a,[],b))}),_has=function(a,b){return Object.prototype.hasOwnProperty.call(b,a)},_isArguments=function(){var a=Object.prototype.toString;return'[object Arguments]'===a.call(arguments)?function(b){return'[object Arguments]'===a.call(b)}:function(a){return _has('callee',a)}}(),keys=function(){var a=!{toString:null}.propertyIsEnumerable('toString'),b=['constructor','valueOf','isPrototypeOf','toString','propertyIsEnumerable','hasOwnProperty','toLocaleString'],c=function(){'use strict';return arguments.propertyIsEnumerable('length')}(),d=function(a,b){for(var c=0;c<a.length;){if(a[c]===b)return!0;c+=1}return!1};return'function'!=typeof Object.keys||c?_curry1(function(e){if(Object(e)!==e)return[];var f,g,h=[],i=c&&_isArguments(e);for(f in e)_has(f,e)&&(!i||'length'!==f)&&(h[h.length]=f);if(a)for(g=b.length-1;0<=g;)f=b[g],_has(f,e)&&!d(h,f)&&(h[h.length]=f),g-=1;return h}):_curry1(function(a){return Object(a)===a?Object.keys(a):[]})}(),map=_curry2(_dispatchable(['fantasy-land/map','map'],_xmap,function(a,b){switch(Object.prototype.toString.call(b)){case'[object Function]':return curryN(b.length,function(){return a.call(this,b.apply(this,arguments))});case'[object Object]':return _reduce(function(c,d){return c[d]=a(b[d]),c},{},keys(b));default:return _map(a,b);}})),_pipe=function(a,b){return function(){return b.call(this,a.apply(this,arguments))}},_curry3=function(d){return function e(f,a,b){switch(arguments.length){case 0:return e;case 1:return _isPlaceholder(f)?e:_curry2(function(a,b){return d(f,a,b)});case 2:return _isPlaceholder(f)&&_isPlaceholder(a)?e:_isPlaceholder(f)?_curry2(function(b,c){return d(b,a,c)}):_isPlaceholder(a)?_curry2(function(a,b){return d(f,a,b)}):_curry1(function(b){return d(f,a,b)});default:return _isPlaceholder(f)&&_isPlaceholder(a)&&_isPlaceholder(b)?e:_isPlaceholder(f)&&_isPlaceholder(a)?_curry2(function(a,c){return d(a,c,b)}):_isPlaceholder(f)&&_isPlaceholder(b)?_curry2(function(b,c){return d(b,a,c)}):_isPlaceholder(a)&&_isPlaceholder(b)?_curry2(function(a,b){return d(f,a,b)}):_isPlaceholder(f)?_curry1(function(c){return d(c,a,b)}):_isPlaceholder(a)?_curry1(function(a){return d(f,a,b)}):_isPlaceholder(b)?_curry1(function(b){return d(f,a,b)}):d(f,a,b);}}},reduce=_curry3(_reduce),_checkForMethod=function(a,b){return function(){var c=arguments.length;if(0===c)return b();var d=arguments[c-1];return _isArray(d)||'function'!=typeof d[a]?b.apply(this,arguments):d[a].apply(d,Array.prototype.slice.call(arguments,0,c-1))}},slice=_curry3(_checkForMethod('slice',function(a,b,c){return Array.prototype.slice.call(c,a,b)})),tail=_curry1(_checkForMethod('tail',slice(1,Infinity))),pipe=function(){if(0===arguments.length)throw new Error('pipe requires at least one argument');return _arity(arguments[0].length,reduce(_pipe,arguments[0],tail(arguments)))},__wrap=curry(function(a,b){return map(pipe(b,a))}),__effect=__wrap(sideEffect),xtrace=sideEffect($,$,I,$),__trace=__wrap(xtrace),__generate=curry(function(a,b,c){return(b?__effect(a):__trace(a))(c)}),ref=[__effect,__generate,__trace,__wrap].map(function(a){return a(__debug)}),effect=ref[0],generate=ref[1],trace=ref[2],wrap=ref[3],debug={effect:effect,generate:generate,wrap:wrap,trace:trace,custom:{effect:__effect,wrap:__wrap,trace:__trace,generate:__generate}},trace$1=xtrace(console.log),PLACEHOLDER=$,$$1=$,I$1=I;export{PLACEHOLDER,$$1 as $,I$1 as I,debug,sideEffect,xtrace,trace$1 as trace};
