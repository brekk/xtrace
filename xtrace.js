'use strict';Object.defineProperty(exports,'__esModule',{value:!0});function _interopDefault(a){return a&&'object'==typeof a&&'default'in a?a['default']:a}var katsuCurry=require('katsu-curry'),tty=_interopDefault(require('tty')),util=_interopDefault(require('util')),fs=_interopDefault(require('fs')),net=_interopDefault(require('net')),sideEffect=katsuCurry.curry(function(a,b,c,d){return a(b,c(d)),d});function createCommonjsModule(a,b){return b={exports:{}},a(b,b.exports),b.exports}var s=1e3,m=60*s,h=60*m,d=24*h,y=365.25*d,index$1=function(a,b){b=b||{};var c=typeof a;if('string'==c&&0<a.length)return parse(a);if('number'==c&&!1===isNaN(a))return b.long?fmtLong(a):fmtShort(a);throw new Error('val is not a non-empty string or a valid number. val='+JSON.stringify(a))};function parse(a){if(a+='',!(100<a.length)){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]),e=(b[2]||'ms').toLowerCase();return'years'===e||'year'===e||'yrs'===e||'yr'===e||'y'===e?c*y:'days'===e||'day'===e||'d'===e?c*d:'hours'===e||'hour'===e||'hrs'===e||'hr'===e||'h'===e?c*h:'minutes'===e||'minute'===e||'mins'===e||'min'===e||'m'===e?c*m:'seconds'===e||'second'===e||'secs'===e||'sec'===e||'s'===e?c*s:'milliseconds'===e||'millisecond'===e||'msecs'===e||'msec'===e||'ms'===e?c:void 0}}}function fmtShort(a){var b=Math.round;return a>=d?b(a/d)+'d':a>=h?b(a/h)+'h':a>=m?b(a/m)+'m':a>=s?b(a/s)+'s':a+'ms'}function fmtLong(a){return plural(a,d,'day')||plural(a,h,'hour')||plural(a,m,'minute')||plural(a,s,'second')||a+' ms'}function plural(a,b,c){return a<b?void 0:a<1.5*b?Math.floor(a/b)+' '+c:Math.ceil(a/b)+' '+c+'s'}var debug$2=createCommonjsModule(function(a,b){function c(a){var c,d=0;for(c in a)d=(d<<5)-d+a.charCodeAt(c),d|=0;return b.colors[Math.abs(d)%b.colors.length]}function d(a){function d(){var a=arguments;if(d.enabled){var c=d,f=+new Date,g=f-(e||f);c.diff=g,c.prev=e,c.curr=f,e=f;for(var h=Array(arguments.length),j=0;j<h.length;j++)h[j]=a[j];h[0]=b.coerce(h[0]),'string'!=typeof h[0]&&h.unshift('%O');var i=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,function(a,d){if('%%'===a)return a;i++;var e=b.formatters[d];if('function'==typeof e){var f=h[i];a=e.call(c,f),h.splice(i,1),i--}return a}),b.formatArgs.call(c,h);var k=d.log||b.log||console.log.bind(console);k.apply(c,h)}}return d.namespace=a,d.enabled=b.enabled(a),d.useColors=b.useColors(),d.color=c(a),'function'==typeof b.init&&b.init(d),d}b=a.exports=d.debug=d['default']=d,b.coerce=function(a){return a instanceof Error?a.stack||a.message:a},b.disable=function(){b.enable('')},b.enable=function(a){b.save(a),b.names=[],b.skips=[];for(var c=('string'==typeof a?a:'').split(/[\s,]+/),d=c.length,e=0;e<d;e++)c[e]&&(a=c[e].replace(/\*/g,'.*?'),'-'===a[0]?b.skips.push(new RegExp('^'+a.substr(1)+'$')):b.names.push(new RegExp('^'+a+'$')))},b.enabled=function(a){var c,d;for(c=0,d=b.skips.length;c<d;c++)if(b.skips[c].test(a))return!1;for(c=0,d=b.names.length;c<d;c++)if(b.names[c].test(a))return!0;return!1},b.humanize=index$1,b.names=[],b.skips=[],b.formatters={};var e}),browser=createCommonjsModule(function(a,b){function c(){var a;try{a=b.storage.debug}catch(a){}return!a&&'undefined'!=typeof process&&'env'in process&&(a=process.env.DEBUG),a}b=a.exports=debug$2,b.log=function(){return'object'==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},b.formatArgs=function(a){var d=this.useColors;if(a[0]=(d?'%c':'')+this.namespace+(d?' %c':' ')+a[0]+(d?'%c ':' ')+'+'+b.humanize(this.diff),!!d){var e='color: '+this.color;a.splice(1,0,e,'color: inherit');var c=0,f=0;a[0].replace(/%[a-zA-Z%]/g,function(a){'%%'===a||(c++,'%c'===a&&(f=c))}),a.splice(f,0,e)}},b.save=function(a){try{null==a?b.storage.removeItem('debug'):b.storage.debug=a}catch(a){}},b.load=c,b.useColors=function(){return'undefined'!=typeof window&&window.process&&'renderer'===window.process.type||'undefined'!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||'undefined'!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||'undefined'!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||'undefined'!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},b.storage='undefined'!=typeof chrome&&'undefined'!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(a){}}(),b.colors=['lightseagreen','forestgreen','goldenrod','dodgerblue','darkorchid','crimson'],b.formatters.j=function(a){try{return JSON.stringify(a)}catch(a){return'[UnexpectedJSONParseError]: '+a.message}},b.enable(c())}),node=createCommonjsModule(function(a,b){function c(){return process.env.DEBUG}b=a.exports=debug$2,b.init=function(a){a.inspectOpts={};for(var c=Object.keys(b.inspectOpts),d=0;d<c.length;d++)a.inspectOpts[c[d]]=b.inspectOpts[c[d]]},b.log=function(){return e.write(util.format.apply(util,arguments)+'\n')},b.formatArgs=function(a){var d=this.namespace,e=this.useColors;if(e){var f=this.color,c='  \x1B[3'+f+';1m'+d+' \x1B[0m';a[0]=c+a[0].split('\n').join('\n'+c),a.push('\x1B[3'+f+'m+'+b.humanize(this.diff)+'\x1B[0m')}else a[0]=new Date().toUTCString()+' '+d+' '+a[0]},b.save=function(a){null==a?delete process.env.DEBUG:process.env.DEBUG=a},b.load=c,b.useColors=function(){return'colors'in b.inspectOpts?!!b.inspectOpts.colors:tty.isatty(d)},b.colors=[6,2,3,4,5,1],b.inspectOpts=Object.keys(process.env).filter(function(a){return /^debug_/i.test(a)}).reduce(function(a,b){var c=b.substring(6).toLowerCase().replace(/_([a-z])/g,function(a,b){return b.toUpperCase()}),d=process.env[b];return d=!!/^(yes|on|true|enabled)$/i.test(d)||!/^(no|off|false|disabled)$/i.test(d)&&('null'===d?null:+d),a[c]=d,a},{});var d=parseInt(process.env.DEBUG_FD,10)||2;1!==d&&2!==d&&util.deprecate(function(){},'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')();var e=1===d?process.stdout:2===d?process.stderr:function(a){var b,c=process.binding('tty_wrap');switch(c.guessHandleType(a)){case'TTY':b=new tty.WriteStream(a),b._type='tty',b._handle&&b._handle.unref&&b._handle.unref();break;case'FILE':b=new fs.SyncWriteStream(a,{autoClose:!1}),b._type='fs';break;case'PIPE':case'TCP':b=new net.Socket({fd:a,readable:!1,writable:!0}),b.readable=!1,b.read=null,b._type='pipe',b._handle&&b._handle.unref&&b._handle.unref();break;default:throw new Error('Implement me. Unknown stream file type!');}return b.fd=a,b._isStdio=!0,b}(d);b.formatters.o=function(a){return this.inspectOpts.colors=this.useColors,util.inspect(a,this.inspectOpts).replace(/\s*\n\s*/g,' ')},b.formatters.O=function(a){return this.inspectOpts.colors=this.useColors,util.inspect(a,this.inspectOpts)},b.enable(c())}),index=createCommonjsModule(function(a){a.exports='undefined'!=typeof process&&'renderer'===process.type?browser:node}),_isPlaceholder=function(b){return null!=b&&'object'==typeof b&&!0===b['@@functional/placeholder']},_curry1=function(b){return function c(d){return 0===arguments.length||_isPlaceholder(d)?c:b.apply(this,arguments)}},_curry2=function(c){return function d(e,a){switch(arguments.length){case 0:return d;case 1:return _isPlaceholder(e)?d:_curry1(function(a){return c(e,a)});default:return _isPlaceholder(e)&&_isPlaceholder(a)?d:_isPlaceholder(e)?_curry1(function(b){return c(b,a)}):_isPlaceholder(a)?_curry1(function(a){return c(e,a)}):c(e,a);}}},_isArray=Array.isArray||function(a){return null!=a&&0<=a.length&&'[object Array]'===Object.prototype.toString.call(a)},_isTransformer=function(a){return'function'==typeof a['@@transducer/step']},_dispatchable=function(a,b,c){return function(){if(0===arguments.length)return c();var d=Array.prototype.slice.call(arguments,0),e=d.pop();if(!_isArray(e)){for(var f=0;f<a.length;){if('function'==typeof e[a[f]])return e[a[f]].apply(e,d);f+=1}if(_isTransformer(e)){var g=b.apply(null,d);return g(e)}}return c.apply(this,arguments)}},_map=function(a,b){for(var c=0,d=b.length,e=Array(d);c<d;)e[c]=a(b[c]),c+=1;return e},_isString=function(a){return'[object String]'===Object.prototype.toString.call(a)},_isArrayLike=_curry1(function(a){return!!_isArray(a)||!!a&&!('object'!=typeof a)&&!_isString(a)&&(1===a.nodeType?!!a.length:!(0!==a.length)||!!(0<a.length)&&a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1))}),_xwrap=function(){function a(a){this.f=a}return a.prototype['@@transducer/init']=function(){throw new Error('init not implemented on XWrap')},a.prototype['@@transducer/result']=function(a){return a},a.prototype['@@transducer/step']=function(a,b){return this.f(a,b)},function(b){return new a(b)}}(),_arity=function(a,b){switch(a){case 0:return function(){return b.apply(this,arguments)};case 1:return function(){return b.apply(this,arguments)};case 2:return function(){return b.apply(this,arguments)};case 3:return function(){return b.apply(this,arguments)};case 4:return function(){return b.apply(this,arguments)};case 5:return function(){return b.apply(this,arguments)};case 6:return function(){return b.apply(this,arguments)};case 7:return function(){return b.apply(this,arguments)};case 8:return function(){return b.apply(this,arguments)};case 9:return function(){return b.apply(this,arguments)};case 10:return function(){return b.apply(this,arguments)};default:throw new Error('First argument to _arity must be a non-negative integer no greater than ten');}},bind=_curry2(function(a,b){return _arity(a.length,function(){return a.apply(b,arguments)})}),_reduce=function(){function a(a,b,c){for(var d=0,e=c.length;d<e;){if(b=a['@@transducer/step'](b,c[d]),b&&b['@@transducer/reduced']){b=b['@@transducer/value'];break}d+=1}return a['@@transducer/result'](b)}function b(a,b,c){for(var d=c.next();!d.done;){if(b=a['@@transducer/step'](b,d.value),b&&b['@@transducer/reduced']){b=b['@@transducer/value'];break}d=c.next()}return a['@@transducer/result'](b)}function c(a,b,c,d){return a['@@transducer/result'](c[d](bind(a['@@transducer/step'],a),b))}var d='undefined'==typeof Symbol?'@@iterator':Symbol.iterator;return function(e,f,g){if('function'==typeof e&&(e=_xwrap(e)),_isArrayLike(g))return a(e,f,g);if('function'==typeof g['fantasy-land/reduce'])return c(e,f,g,'fantasy-land/reduce');if(null!=g[d])return b(e,f,g[d]());if('function'==typeof g.next)return b(e,f,g);if('function'==typeof g.reduce)return c(e,f,g,'reduce');throw new TypeError('reduce: list must be array or iterable')}}(),_xfBase={init:function(){return this.xf['@@transducer/init']()},result:function(a){return this.xf['@@transducer/result'](a)}},_xmap=function(){function a(a,b){this.xf=b,this.f=a}return a.prototype['@@transducer/init']=_xfBase.init,a.prototype['@@transducer/result']=_xfBase.result,a.prototype['@@transducer/step']=function(a,b){return this.xf['@@transducer/step'](a,this.f(b))},_curry2(function(b,c){return new a(b,c)})}(),_curryN=function a(b,c,d){return function(){for(var e=arguments,f=[],g=0,h=b,i=0;i<c.length||g<arguments.length;){var j;i<c.length&&(!_isPlaceholder(c[i])||g>=e.length)?j=c[i]:(j=e[g],g+=1),f[i]=j,_isPlaceholder(j)||(h-=1),i+=1}return 0>=h?d.apply(this,f):_arity(h,a(b,f,d))}},curryN=_curry2(function(a,b){return 1===a?_curry1(b):_arity(a,_curryN(a,[],b))}),_has=function(a,b){return Object.prototype.hasOwnProperty.call(b,a)},_isArguments=function(){var a=Object.prototype.toString;return'[object Arguments]'===a.call(arguments)?function(b){return'[object Arguments]'===a.call(b)}:function(a){return _has('callee',a)}}(),keys=function(){var a=!{toString:null}.propertyIsEnumerable('toString'),b=['constructor','valueOf','isPrototypeOf','toString','propertyIsEnumerable','hasOwnProperty','toLocaleString'],c=function(){'use strict';return arguments.propertyIsEnumerable('length')}(),d=function(a,b){for(var c=0;c<a.length;){if(a[c]===b)return!0;c+=1}return!1};return'function'!=typeof Object.keys||c?_curry1(function(e){if(Object(e)!==e)return[];var f,g,h=[],i=c&&_isArguments(e);for(f in e)_has(f,e)&&(!i||'length'!==f)&&(h[h.length]=f);if(a)for(g=b.length-1;0<=g;)f=b[g],_has(f,e)&&!d(h,f)&&(h[h.length]=f),g-=1;return h}):_curry1(function(a){return Object(a)===a?Object.keys(a):[]})}(),map=_curry2(_dispatchable(['fantasy-land/map','map'],_xmap,function(a,b){switch(Object.prototype.toString.call(b)){case'[object Function]':return curryN(b.length,function(){return a.call(this,b.apply(this,arguments))});case'[object Object]':return _reduce(function(c,d){return c[d]=a(b[d]),c},{},keys(b));default:return _map(a,b);}})),_pipe=function(a,b){return function(){return b.call(this,a.apply(this,arguments))}},_curry3=function(d){return function e(f,a,b){switch(arguments.length){case 0:return e;case 1:return _isPlaceholder(f)?e:_curry2(function(a,b){return d(f,a,b)});case 2:return _isPlaceholder(f)&&_isPlaceholder(a)?e:_isPlaceholder(f)?_curry2(function(b,c){return d(b,a,c)}):_isPlaceholder(a)?_curry2(function(a,b){return d(f,a,b)}):_curry1(function(b){return d(f,a,b)});default:return _isPlaceholder(f)&&_isPlaceholder(a)&&_isPlaceholder(b)?e:_isPlaceholder(f)&&_isPlaceholder(a)?_curry2(function(a,c){return d(a,c,b)}):_isPlaceholder(f)&&_isPlaceholder(b)?_curry2(function(b,c){return d(b,a,c)}):_isPlaceholder(a)&&_isPlaceholder(b)?_curry2(function(a,b){return d(f,a,b)}):_isPlaceholder(f)?_curry1(function(c){return d(c,a,b)}):_isPlaceholder(a)?_curry1(function(a){return d(f,a,b)}):_isPlaceholder(b)?_curry1(function(b){return d(f,a,b)}):d(f,a,b);}}},reduce=_curry3(_reduce),_checkForMethod=function(a,b){return function(){var c=arguments.length;if(0===c)return b();var d=arguments[c-1];return _isArray(d)||'function'!=typeof d[a]?b.apply(this,arguments):d[a].apply(d,Array.prototype.slice.call(arguments,0,c-1))}},slice=_curry3(_checkForMethod('slice',function(a,b,c){return Array.prototype.slice.call(c,a,b)})),tail=_curry1(_checkForMethod('tail',slice(1,Infinity))),pipe=function(){if(0===arguments.length)throw new Error('pipe requires at least one argument');return _arity(arguments[0].length,reduce(_pipe,arguments[0],tail(arguments)))},wrap=katsuCurry.curry(function(a,b){return map(pipe(a,b))}),debugWrap=wrap(index),debugEffect=debugWrap(sideEffect),__debugEffect=wrap(katsuCurry.$,sideEffect),xtrace=sideEffect(katsuCurry.$,katsuCurry.$,katsuCurry.I,katsuCurry.$),debugTrace=debugWrap(xtrace),__debugTrace=wrap(katsuCurry.$,xtrace),__makeInspectors=katsuCurry.curry(function(a,b,c){return(b?__debugEffect(a):__debugTrace(a))(c)}),makeInspectors=__makeInspectors(index),_debug=Object.freeze({debugEffect:debugEffect,__debugEffect:__debugEffect,__makeInspectors:__makeInspectors,makeInspectors:makeInspectors,debugTrace:debugTrace,__debugTrace:__debugTrace,wrap:wrap,debugWrap:debugWrap}),trace=xtrace(console.log),PLACEHOLDER=katsuCurry.$,$$1=katsuCurry.$,I$1=katsuCurry.I,debug=_debug;exports.PLACEHOLDER=PLACEHOLDER,exports.$=$$1,exports.I=I$1,exports.debug=debug,exports.sideEffect=sideEffect,exports.xtrace=xtrace,exports.trace=trace;
